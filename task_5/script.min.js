// script.js
document.addEventListener('DOMContentLoaded', () => {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];

    // Add products dynamically
    const products = [
        { id: 1, name: "Dark Chocolate", price: 15.99, img: "D:/Chocolate2/images/carousel2.jpeg" },
        { id: 2, name: "Milk Chocolate", price: 12.99, img: "D:/Chocolate2/images/chocolate2.jpeg" },
        { id: 3, name: "White Chocolate", price: 14.99, img: "D:/Chocolate2/images/wc.jpg" },
        { id: 4, name: "Hazelnut Truffle", price: 18.99, img: "D:/Chocolate2/images/carousel1.jpeg" },
        { id: 5, name: "Caramel Delight", price: 16.99, img: "D:/Chocolate2/images/caramel.jpg" },
        { id: 6, name: "Mint Crisp", price: 14.49, img: "D:/Chocolate2/images/mint.jpg" },
    ];
    
    const productList = document.getElementById('productList');

if (productList) {
    products.forEach((product) => {
        productList.innerHTML += `
            <div class="product">
                <img src="${product.img}" alt="${product.name}">
                <h3>${product.name}</h3>
                <p>$${product.price}</p>
                <button class="add-to-cart" 
                        data-id="${product.id}" 
                        data-name="${product.name}" 
                        data-price="${product.price}">
                    Add to Cart
                </button>
            </div>
        `;
    });
}


document.addEventListener('click', (e) => {
    if (e.target.classList.contains('add-to-cart')) {
        const product = {
            id: e.target.dataset.id,
            name: e.target.dataset.name,
            price: parseFloat(e.target.dataset.price),
        };
        cart.push(product);
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartCount();
    }
});

// Update cart count
function updateCartCount() {
    const cartCount = document.getElementById('cartCount');
    if (cartCount) cartCount.textContent = cart.length;
}

updateCartCount();
});

document.addEventListener('DOMContentLoaded', () => {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartItemsContainer = document.getElementById('cartItems');
    const totalAmountContainer = document.getElementById('totalAmount');

    function updateCart() {
        // Clear the cart display
        cartItemsContainer.innerHTML = '';
        let total = 0;

        // Re-render the cart
        cart.forEach((item, index) => {
            total += item.price;

            cartItemsContainer.innerHTML += `
                <div class="cart-item">
                    <p><strong>${item.name}</strong> - $${item.price.toFixed(2)}</p>
                    <button class="remove-item" data-index="${index}">Remove</button>
                </div>
            `;
        });

        // Update total amount
        totalAmountContainer.textContent = total.toFixed(2);
    }

    // Remove item from cart
    cartItemsContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item')) {
            const index = e.target.dataset.index;
            cart.splice(index, 1); // Remove the item from the cart array
            localStorage.setItem('cart', JSON.stringify(cart)); // Update localStorage
            updateCart(); // Re-render the cart
        }
    });

    // Initialize cart display
    if (cartItemsContainer && totalAmountContainer) {
        updateCart();
    }
});

